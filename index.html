<!-- index.html（核心结构示例） -->
<link rel="stylesheet" href="styles.css" />
<script src="script.js" defer></script>

<section class="card">
  <h2>1) 上传底图/参考图</h2>

  <div class="row">
    <div class="col">
      <div class="label">底图（现场原图）：</div>
      <input id="baseFile" type="file" accept="image/*" />
    </div>

    <div class="col">
      <div class="label">参考图（结构参考）：</div>
      <input id="refFile" type="file" accept="image/*" />
    </div>
  </div>
</section>

<section class="card">
  <h2>2) 工具菜单</h2>
  <div class="toolbar">
    <button id="toolBrush" class="btn active">画笔</button>
    <button id="toolEraser" class="btn">橡皮</button>
    <button id="undo" class="btn">撤销</button>
    <button id="clear" class="btn">清空</button>
    <button id="downloadMask" class="btn">下载Mask(PNG)</button>
    <button id="exportJson" class="btn">导出JSON</button>
    <button id="runBtn" class="btn primary">生成JSON并复制</button>
  </div>

  <div class="row">
    <label>画笔大小
      <input id="brushSize" type="range" min="2" max="80" value="24" />
      <span id="brushSizeVal">24</span>
    </label>
  </div>
</section>

<section class="card">
  <h2>3) 执行要求 PROMPT</h2>
  <textarea id="executionPrompt" rows="8" placeholder="在这里粘贴/编写执行要求PROMPT"></textarea>
  <div class="hint">导出JSON时，会把 PROMPT 写入字段 execution_prompt。</div>
</section>

<section class="card">
  <h2>4) 预览 & 画遮罩</h2>

  <div class="row">
    <div class="col">
      <div class="label">底图预览（可画遮罩）</div>
      <div class="stage" id="stage">
        <img id="basePreview" alt="base preview" />
        <canvas id="maskCanvas"></canvas>
      </div>
    </div>

    <div class="col">
      <div class="label">参考图预览</div>
      <div class="stage">
        <img id="refPreview" alt="ref preview" />
      </div>
    </div>
  </div>
</section>

<section class="card">
  <h2>5) 输出预览</h2>
  <pre id="jsonOut" class="jsonOut"></pre>
</section>
